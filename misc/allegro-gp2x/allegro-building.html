<html>
<head>
	<title>Building Allegro for GP2X</title>
</head>
<body>
	
<h1>Building Allegro for GP2X</h1>

<p><em><a href="mailto:gfoot@users.sf.net">by George Foot</a></em>


<h2>Don't Panic</h2>

<p>It's really not very hard...

<ol>

<li>Unpack the Allegro sources, e.g. tar -xzf allegro-4.2.0.tar.gz

<li>Apply my patches, e.g. cd allegro-4.2.0 ; patch -p1 &lt; gp2xallegro-0.3.diff

<li>Configure properly - this is the hard bit, so unless you
	know better, stick to the following command:
	
	<p><em>LDFLAGS=-static ./configure --host arm-open2x-linux
	--without-x --enable-static --disable-shared --enable-lgp2x
	--disable-modules --prefix=/opt/gp2x
	--enable-dbglib</em>
	
	<p>This will build static libraries, not shared libraries,
	in debug and release modes, and link the various programs
	(demo game, examples, tests) with the release version,
	totally staticly.  Everything gets installed to
	subdirectories (bin, lib, include, share) of /opt/gp2x.
	
	<p>If you want, you can --enable-dbgprog to build the
	programs in debug mode too, and link them to the debug
	library.  Up to you.
	
<li><em>make depend</em> - sort out dependencies, write
	makefiles

<li><em>make</em> - build everything

<li><em>make install</em> - copy relevant stuff to /opt/gp2x or
	whatever you set --prefix to
</ol>

After installation, you probably want to add the relevant bin
directory to your path.  Don't worry about the include or lib
directories, gp2x-allegro-config handles that for you!  So it
doesn't matter if you choose to install Allegro off by itself
somewhere, away from all your precious devkitgp2x libraries.


<h2>Using Allegro for GP2X</h2>

<p>See <a href="allegro-using.html">Using Allegro for GP2X</a>


</body>
</html>

