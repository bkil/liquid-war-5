<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
	<title>Using Allegro for GP2X</title>
</head>
<body>

<h1>Using Allegro for GP2X</h1>

<h2>Building your own programs</h2>

<p>Generally you should use the gp2x-allegro-config script in
your compile and link command lines.  It fills out include and
library paths, and links the right libraries for you.  The main
options are:

</p><dl>
<dt>--cflags  </dt><dd>pass this when compiling
</dd><dt>--libs    </dt><dd>pass this when linking
</dd><dt>debug     </dt><dd>pass this to enable debugging, and link
                  against the debug library
</dd></dl>

<p>If it's one command which is both compiling and linking, pass
both flags.

</p><p>As a side effect of the configure line above,
gp2x-allegro-config will also force your binaries to link
staticly.  If you don't like it, edit the script and take out
the -static option.

</p><h2>Example: building the joystick example program</h2>

<p>The examples will have been built automatically, but as an
example of building your own program, try copying the exjoy.c
file from the examples directory to somewhere fresh.  Then you
can compile it:

</p><p><em>gcc -o exjoy.o -c exjoy.c -O2 -Wall -Werror -g
`gp2x-allegro-config --cflags debug`</em>

</p><p>And link it:

</p><p><em>gcc -o exjoy exjoy.o `gp2x-allegro-config --libs`</em>

</p><p>Then write a .gpe wrapper script that runs './exjoy' and
chains back to the gp2xmenu.

</p><p>Note that it's OK to pass 'debug' when compiling yet not when
linking - your own code's TRACE calls will then output to
allegro.log, while the library itself will not.  Quite a useful
setup.




</p></body></html>